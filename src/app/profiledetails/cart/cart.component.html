<!--=============================================
	=            cart page content         =
	=============================================-->
<div style="background-color: #93939338; padding-bottom: 1px; padding-top: 10px;">
	<div class="container">
		<div class="row">

			<div class="col-lg-9 mb-10" style="background-color: white;">
				<div class="col-lg-12" style="  border-bottom: 1px solid #ededed;" >
					<div class="section-title section-title--one  mb-0">
						<h5 style="font-weight: 600; color: #4c4a4a;margin-left: 30px;margin-top: 10px;margin-bottom: 0px;">
							<span><img  class="ion-android-favorite-outline" *ngIf="(userid!==0)" src="../../../assets/images/icons/trolley.png" 
								style="height:20px;width:20px;margin-top: -6px;
									margin-right: 5px;" alt=""></span>	Cart</h5>
					</div>
				</div>
				<!--=======  cart table  =======-->
				<div class="cart-table-container pl-lg-10 pl-sm-0" *ngIf="!loader">
					<table id="producttable" class="cart-table" *ngIf="(Cart.length!==0)" style="border: none;">
						<tbody *ngFor="let a of Cart">
							<tr *ngFor="let b of a.cart_items">
								<td class="product-thumbnail" (click)="proddetail(b.product_id)">
									<a>
										<img src="https://neophroncrm.com/spiceclubnew/public/{{b.product_thumbnail_image}}"
											class="img-fluid" alt="">
									</a>
								</td>
								<td class="product-name">
									<a style="text-decoration: none;color: #5e5e5e;padding-bottom: 7px;"
										(click)="proddetail(b.product_id)">{{b.product_name}}</a>
									<a style="color:rgb(2, 183, 207);font-size: 0.8rem;font-weight: 400;padding-bottom: 7px;margin-bottom: 0px;">{{b.brand_name}}</a>
									<a *ngIf="b.stock!==0" style="color:rgb(4, 167, 4);font-size: 0.8rem;font-weight: 400;margin-top: 2px;padding-bottom: 7px;text-decoration: none;">In-stock</a>
                                    <a  *ngIf="b.stock==0" style="color:rgb(218, 17, 3);font-size: 0.8rem;font-weight: 400;margin-top: 2px;padding-bottom: 7px;text-decoration: none;">Out of stock</a>
									
									<span class="main-price discounted" id="main-stroke"
									style="text-decoration:line-through"
									*ngIf="b.stroked_price!==b.pricestring">{{b.stroked_price}}</span>          
									<span class="price" style="font-weight: 600;
										color: rgb(66, 66, 66);">  {{b.pricestring}}&nbsp;<span style="font-size: 0.7rem;font-weight: 100;" *ngIf="b.variation!==null">({{b.attribute[0]?.title}}: {{b.variation}} (pack of 1)) </span></span>
							     <!-- <a class="yousave" *ngIf="b.has_discount==true" >
									You save <span style="color:green">Rs {{b.discount_amount}}</span></a> -->
									<a style="font-size: 0.7rem;font-weight: 100;text-decoration: none;color: gray; margin-top: 8px;"
											*ngIf="b.discount!==0">
											you save Rs.{{b.discount}} ({{b.discount_percentage}}%) </a>
						

									<div class="pro-qty d-inline-block mx-0 " id="qty">
										<span style="font-size: 0.8rem;" >Qty: </span>

										<span style="display: inherit;"><a class="dec qty-btn"
												 type="submit"
												(click)="decreaseqty(b.id,b.quantity-1)"
												(click)="b.quantity = b.quantity - 1"
												*ngIf="b.quantity!>b.lower_limit">-</a></span>
										<!-- <input type="text" value="{{b.quantity}}"> -->
										<input type="number" #box value="{{b.quantity}}"
											(keyup)="getValue(box.value,b.id,b.upper_limit)" name="qqty"
											style="background: transparent;padding: 0px; width: 40px;">
										<span style="display: inherit;"> <a class="inc qty-btn"
												style="text-decoration: none;color: gray;" (click)="b.quantity = b.quantity + 1"
												(click)="increaseqty(b.id,b.quantity)"
												*ngIf="b.quantity!=b.upper_limit">+</a> </span>


									</div>

									

								</td>



								<td class="product-quantity" style="padding-left: 1px; padding: 20px;">
									
								</td>

                            

								<td class="total-price" id="price">
									<span class="price" id="pricespan"
										style="color: rgb(41, 41, 41);font-size: 1.2rem;padding-bottom: 4px;">Rs.{{b.total}}</span>
									
									  <!-- subscription important-->

										<!-- <a  id="subsave">
										<span>Save</span>
										<p style="font-size:0.7rem ;">
											Subscribe now & Save
										</p>
									</a> -->

									<!-- style="margin-top:17px  ;" -->
									<span class="deletespan" >
										<button class="btn btn-light sm"  id="deletebtn" (click)="deleteRecord(b.id)">Delete</button>
									</span>
								</td>

								<td class="product-remove">
									
								</td>
							</tr>

						</tbody>
					</table>
					<div id="pggg" *ngIf="(Cart.length==0)" >
						<div>
							<h5>
								Cart is Empty
							</h5>
						</div>
					</div>
				</div>

				<div class="cart-table-container mt-20" *ngIf="loader">
					<div id="tit" style="width: 100%;">
						<ngx-skeleton-loader count="4"
							[theme]="{  'border-radius': '4px',  height: '80px',  width:'100%', 'opacity':.6, 'background-color': '##b9b8b8',   border: '1px solid white'  }">
						</ngx-skeleton-loader>
					</div>

				</div>
			</div>


			<div class="col-xl-3 offset-xl-8 col-lg-5 offset-lg-7" 
			id="sidebar_content">

				<div  *ngIf="(Cart?.length!==0)" class="row mb-10" style="padding:6px;background-color: white;border: 1px solid #ededed;">
								<div style="padding: 0px; border: 1px solid #ededed">
								
					<div *ngIf="!Summeryload">
					
						<div class="cart-calculation-area" *ngIf="(Cart?.length!==0)" style="background-color: white;">
							<p class="mb-0 pb-10" style="font-size: 0.9rem;font-weight: 600;color:rgb(199, 15, 15)">Available Coupons for you</p>
							<span id="coupondiv" *ngFor="let a of availcoupan"><input type="checkbox" name="availcoupan"
									value="{{a.code}}" (change)="changecoupan($event)">
								<p style="font-size: 0.8rem;display: contents;"> {{a.code}}</p>
							</span>
							<div class="lezada-form coupon-form mt-10" id="coupondiv" >
								<form [formGroup]="comment" (ngSubmit)="applycoupan(comment)">
									<div class="row">
										<div class="col-md-8 mb-sm-10" >
											<input type="text" placeholder="Enter your coupon code"
												formControlName="coupan" required style=" background-color: #f3f3f3;
												border-radius: 4px;border:0px;padding: 3px; padding-left: 8px;">
										</div>
										<div class="col-md-4">
											<button id="apply" class="btn btn-danger sm" type="submit" *ngIf="applycou" style="padding-top: 1px;
													padding-bottom: 1px;
													font-size: 0.7rem;margin-top:0px;background-color: #ce2127;border-color: #ce2127;">Apply</button>
											<button id="apply" class="btn btn-danger sm" *ngIf="removecou" (click)="removecoupon()"
												type="button" style="padding-top: 0px;
													padding-bottom: 3px;
													font-size: 0.7rem;margin-top: 12px;">Remove</button>
										</div>
									</div>
								</form>

							</div>


						</div>
					</div>
					<div class="skll" *ngIf="Summeryload"  >
						<ngx-skeleton-loader count="1" [theme]="{ 
										'border-radius': '5px',
										height: '350px',
										'background-color': '##b9b8b8',
										border: '1px solid white'
									  }" animation="pulse"></ngx-skeleton-loader>
					</div>
					<div *ngIf="!Summeryload" style="border-top: 1px solid #ededed;">
						<div class="cart-calculation-area " *ngIf="(Cart?.length!==0)" style="background-color: white;">
							<p class="mb-10" style="font-size: 0.9rem;font-weight: 600;color:rgb(199, 15, 15) ">Shopping Cart</p>
							<table class="cart-calculation-table" id="summerydiv">
								<tr *ngIf="couponn==true">
									<th>Coupon Applied</th>
									<td class="subtotal">yes</td>
								</tr>
								<tr>
									<th>Subtotal ({{cartlength}} <span style="text-transform: lowercase;">items</span>)
									</th>
									<td class="subtotal" style="font-size:15px;">{{Summery?.subtotal_withoutdiscount}}</td>
								</tr>
								<tr>
									<th>Discount  </th>
									<td class="subtotal">Rs - {{Summery?.discount}}</td>
								</tr>
								<tr style="border-top: 1px solid #ededed;">
									<th>Total
									</th>
									<td class="total" style="font-size:15px;">{{subtot}}</td>
								</tr>
								<!-- <tr>
											<th>TOTAL</th>
											<td class="total">{{Grandtot}}</td>
										</tr> -->

							</table>

							<div class="cart-calculation-button text-center">
								<button class="lezada-button lezada-button--medium" (click)="proceed()">Proceed to
									Checkout</button>
							</div>
						</div>
					</div>
					
				</div>
				</div>


				<div class="row mb-10">
					<div *ngIf="!Summeryload" style="padding: 0px;">
						<div class="cart-calculation-area" style="background-color: white;">
							<h6 class="single-sidebar-widget--title mb-10" style="font-size:18px;">Featured Products for you..</h6>
							<div class="widget-product-wrapper" id="featureddiv">
								<!--=======  single widget product  =======-->
								<div class="single-widget-product-wrapper">
									<div class="single-widget-product" *ngFor="let img of Futuredpro"
										style="padding-bottom: 17px;" (click)="proddetail(img.id)">
										<!--=======  image  =======-->

										<div class="single-widget-product__image">
											<a>
												<img src="https://neophroncrm.com/spiceclubnew/public/{{img.thumbnail_image}}"
													class="img-fluid" alt="">
											</a>
										</div>
										<div class="single-widget-product__content">
											<div class="single-widget-product__content__top">
												<h3 class="product-title"><a>{{img.name}}</a>
												</h3>
												<br>
												<div class="price">
													<span class="main-price discounted"
														style="text-decoration:line-through"
														*ngIf="img.stroked_price!==img.main_price">{{img.stroked_price}}</span>
													<span class="discounted-price">{{img.main_price}}</span>
												</div>
												<ngb-rating [rate]="img.rating" style="color: rgb(245, 153, 14);">
												</ngb-rating>
											</div>
										</div>
										<!--=======  End of content  =======-->
									</div>
								</div>

								<!--=======  End of single widget product  =======-->
							</div>
							<!-- lazyloading -->
							<div class="widget-product-wrapper" *ngIf="poploader">
								<!--=======  single widget product  =======-->
								<div class="single-widget-product-wrapper">
									<div class="single-widget-product" style="padding-bottom: 17px;">
										<div class="single-widget-product__image" style="height: 120px; width:80px">
											<ngx-skeleton-loader count="1"
												[theme]="{  'border-radius': '4px',  height: '100%',  width:'100%', 'opacity':.6, 'background-color': '##b9b8b8',   border: '1px solid white'  }">
											</ngx-skeleton-loader>
										</div>
										<div class="single-widget-product__content">
											<div class="single-widget-product__content__top">
												<ngx-skeleton-loader count="3" animation="pulse"></ngx-skeleton-loader>
											</div>
										</div>
									</div>
									<div class="single-widget-product" style="padding-bottom: 17px;">
										<div class="single-widget-product__image" style="height: 120px; width:80px">
											<ngx-skeleton-loader count="1"
												[theme]="{  'border-radius': '4px',  height: '100%',  width:'100%', 'opacity':.6, 'background-color': '##b9b8b8',   border: '1px solid white'  }">
											</ngx-skeleton-loader>
										</div>
										<div class="single-widget-product__content">
											<div class="single-widget-product__content__top">
												<ngx-skeleton-loader count="3" animation="pulse"></ngx-skeleton-loader>
											</div>
										</div>
									</div>
									<div class="single-widget-product" style="padding-bottom: 17px;">
										<div class="single-widget-product__image" style="height: 120px; width:80px">
											<ngx-skeleton-loader count="1"
												[theme]="{  'border-radius': '4px',  height: '100%',  width:'100%', 'opacity':.6, 'background-color': '##b9b8b8',   border: '1px solid white'  }">
											</ngx-skeleton-loader>
										</div>
										<div class="single-widget-product__content">
											<div class="single-widget-product__content__top">
												<ngx-skeleton-loader count="3" animation="pulse"></ngx-skeleton-loader>
											</div>
										</div>
									</div>
								</div>

								<!--=======  End of single widget product  =======-->
							</div>



						</div>
					</div>
					<div class="skll" *ngIf="Summeryload">
						<ngx-skeleton-loader count="1" [theme]="{ 
										'border-radius': '5px',
										height: '350px',
										'background-color': '##b9b8b8',
										border: '1px solid white'
									  }" animation="pulse"></ngx-skeleton-loader>
					</div>

				</div>

			</div>

		</div>
	</div>

</div>



<!--=====  End of cart page content  ======-->